{"version":3,"file":"ngx-scrollbar-cdk.mjs","sources":["../../../projects/ngx-scrollbar/cdk/src/cdk-virtual-scroll.ts","../../../projects/ngx-scrollbar/cdk/src/ngx-scrollbar-cdk.ts"],"sourcesContent":["import { Directive, inject, effect, untracked, contentChild, Signal } from '@angular/core';\r\nimport { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\r\nimport { NgScrollbarExt } from 'ngx-scrollbar';\r\n\r\n@Directive({\r\n  standalone: true,\r\n  selector: 'ng-scrollbar[cdkVirtualScrollViewport]'\r\n})\r\nexport class NgScrollbarCdkVirtualScroll {\r\n\r\n  private readonly scrollbar: NgScrollbarExt = inject(NgScrollbarExt, { self: true });\r\n\r\n  private readonly virtualScrollViewportRef: Signal<CdkVirtualScrollViewport> = contentChild(CdkVirtualScrollViewport);\r\n\r\n  constructor() {\r\n    this.scrollbar.skipInit = true;\r\n\r\n    // Since 'effects' runs before 'afterNextRender' and our elements are defined, will use 'effects'.\r\n    effect(() => {\r\n      const virtualScrollViewport: CdkVirtualScrollViewport = this.virtualScrollViewportRef();\r\n\r\n      untracked(() => {\r\n        if (virtualScrollViewport) {\r\n          const viewport: HTMLElement = virtualScrollViewport.elementRef.nativeElement;\r\n          const contentWrapper: HTMLElement = virtualScrollViewport._contentWrapper.nativeElement;\r\n          const spacer: HTMLElement = virtualScrollViewport.elementRef.nativeElement.querySelector('.cdk-virtual-scroll-spacer');\r\n\r\n          this.scrollbar.initialize(viewport, contentWrapper, spacer);\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;;MAQa,2BAA2B,CAAA;AAMtC,IAAA,WAAA,GAAA;QAJiB,IAAS,CAAA,SAAA,GAAmB,MAAM,CAAC,cAAc,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;AAElE,QAAA,IAAA,CAAA,wBAAwB,GAAqC,YAAY,CAAC,wBAAwB,CAAC;AAGlH,QAAA,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI;;QAG9B,MAAM,CAAC,MAAK;AACV,YAAA,MAAM,qBAAqB,GAA6B,IAAI,CAAC,wBAAwB,EAAE;YAEvF,SAAS,CAAC,MAAK;gBACb,IAAI,qBAAqB,EAAE;AACzB,oBAAA,MAAM,QAAQ,GAAgB,qBAAqB,CAAC,UAAU,CAAC,aAAa;AAC5E,oBAAA,MAAM,cAAc,GAAgB,qBAAqB,CAAC,eAAe,CAAC,aAAa;AACvF,oBAAA,MAAM,MAAM,GAAgB,qBAAqB,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,4BAA4B,CAAC;oBAEtH,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,QAAQ,EAAE,cAAc,EAAE,MAAM,CAAC;;AAE/D,aAAC,CAAC;AACJ,SAAC,CAAC;;8GAtBO,2BAA2B,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAA3B,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,2BAA2B,wJAIqD,wBAAwB,EAAA,WAAA,EAAA,IAAA,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA;;2FAJxG,2BAA2B,EAAA,UAAA,EAAA,CAAA;kBAJvC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACT,oBAAA,UAAU,EAAE,IAAI;AAChB,oBAAA,QAAQ,EAAE;AACX,iBAAA;;;ACPD;;AAEG;;;;"}